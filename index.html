<!DOCTYPE html>
<html lang="vi">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Baby Sleep Tracker</title>
        <link rel="stylesheet" href="./src/css/styles.css" />
    </head>
    <body>
        <header class="header">
            <div class="header-content">
                <div class="header-text">
                    <h1 class="header-title">Baby Sleep Tracker</h1>
                    <p class="header-subtitle">Theo dõi giấc ngủ của bé</p>
                </div>
                <button id="logout-btn" class="btn btn-logout" style="display: none">Đăng xuất</button>
            </div>
        </header>

        <div id="alert-banner" class="alert-banner" style="display: none">
            <span id="alert-message"></span>
            <button id="close-alert-btn" class="close-alert-btn">✖</button>
        </div>

        <div id="auth-screen" class="auth-container">
            <div class="auth-card">
                <h2 class="auth-title">Đăng nhập</h2>
                <form class="auth-form" onsubmit="return false;">
                    <input type="email" id="auth-email" class="input-field" placeholder="Email" required autocomplete="email" />
                    <input type="password" id="auth-password" class="input-field" placeholder="Mật khẩu" required autocomplete="current-password" />
                    <div class="auth-buttons">
                        <button id="login-btn" class="btn btn-primary">Đăng nhập</button>
                        <button id="signup-btn" class="btn btn-success">Đăng ký</button>
                    </div>
                    <p id="auth-message" class="auth-message"></p>
                </form>
            </div>
        </div>

        <div id="main-content" class="main-content" style="display: none">
            <main class="dashboard">
                <section class="card camera-section">
                    <h2 class="card-title">Camera bé</h2>
                    <div class="camera-frame">
                        <video id="baby-camera" autoplay playsinline muted controls>
                            <source src="" type="video/mp4" />
                            Trình duyệt không hỗ trợ video.
                        </video>
                    </div>
                </section>

                <section class="card info-section">
                    <div class="info-header">
                        <h2 class="card-title">Thông tin theo dõi</h2>
                        <span id="timestamp" class="timestamp">--:-- --/--/----</span>
                    </div>
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="info-label">Trạng thái:</span>
                            <span id="sleep-status" class="info-value badge">N/A</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Nhiệt độ phòng:</span>
                            <span id="room-temperature" class="info-value badge">N/A°C</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Độ ẩm phòng:</span>
                            <span id="room-humidity" class="info-value badge">N/A%</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Nhiệt độ em bé:</span>
                            <span id="baby-temperature" class="info-value badge">N/A°C</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Tư thế ngủ:</span>
                            <span id="sleep-position" class="info-value badge">N/A</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Có khóc không:</span>
                            <span id="is-crying" class="info-value badge">N/A</span>
                        </div>
                    </div>
                </section>

                <section class="card history-section">
                    <h2 class="card-title">Lịch sử Hoạt động Gần nhất</h2>
                    <div id="activity-history" class="activity-history">
                        <p class="loading-text">Đang tải lịch sử...</p>
                    </div>
                </section>

                <section class="card chart-section">
                    <h2 class="card-title">Phân tích Xu hướng</h2>

                    <div class="chart-wrapper">
                        <h3 class="chart-subtitle">Nhiệt độ Em bé (°C)</h3>
                        <canvas id="babyTempChart"></canvas>
                    </div>

                    <div class="chart-divider"></div>

                    <div class="chart-wrapper">
                        <h3 class="chart-subtitle">Nhiệt độ & Độ ẩm Phòng</h3>
                        <canvas id="envChart"></canvas>
                    </div>
                </section>
            </main>
        </div>

        <footer class="footer">
            <p>© 2025 Baby Sleep Tracker - Made with ❤️</p>
        </footer>

        <script type="module" src="./src/js/main.js"></script>
    </body>
</html>
